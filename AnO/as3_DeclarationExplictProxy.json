{
  "Common": {
    "class": "Tenant",
    "Shared": {
      "class": "Application",
      "template": "shared",
      "serviceAddress": {
        "class": "Service_Address",
        "virtualAddress": "0.0.0.0"
      },
      "tcp_profile_opt28": {
        "class": "TCP_Profile",
        "tcpOptions": [
          {
            "option": 28,
            "when": "first"
          }
        ],
        "maxSegmentSize": 1460,
        "initCwnd": 43,
        "initRwnd": 43
      },
      "srcipToDatagroup": {
        "class": "Data_Group",
        "keyDataType": "ip",
        "records": [
           {
               "key": "0.0.0.0/0",
               "value": "local_vpc_datagroup"
           },
           {
               "key": "10.21.21.0/27",
               "value": "us-east-1_123456_datagroup"
           },
           {
            "key": "104.219.105.84/32",
            "value": "us-east-1_123456_datagroup"
           }
       ]
      },
      "proxyFilterHeaderToDatagroup": {
        "class": "Data_Group",
        "keyDataType": "string",
        "records": []
      },
      "sharedDatagroup": {
        "class": "Data_Group",
        "keyDataType": "string",
        "records": [
          {
            "key": "shared",
            "value": "shared_datagroup"
          }
        ]
      },
      "explicitPxy_bypass": {
        "class": "Data_Group",
        "keyDataType": "string",
        "records": [
          {
            "key": "testapi.girogate.de",
            "value": "all_uris"
          }
        ]
      },
      "all_uris": {
        "class": "Data_Group",
        "keyDataType": "string",
        "records": [
          {
            "key": "/"
          }
        ]
      },
      "shared_datagroup": {
        "class": "Data_Group",
        "keyDataType": "string",
        "records": [
          {"key": "/"}
        ]
      },
      "local_vpc_datagroup": {
        "class": "Data_Group",
        "keyDataType": "string",
        "records": [
            {
                "key": "us-east-2.ec2.archive.ubuntu.com",
                "value": "all_uris"
            },
            {
             "key": "server.proxy.com",
             "value": "all_uris"
            }
        ]
   },
   "us-east-1_123456_datagroup": {
        "class": "Data_Group",
        "keyDataType": "string",
        "records": [
            {
                "key": "f5.com",
                "value": "all_uris"
            },
            {
                "key": "udf.f5.com",
                "value": "all_uris"
            }
        ]
   },
   "us-east-1_654321_datagroup": {
     "class": "Data_Group",
     "keyDataType": "string",
     "records": [
         {
           "key": "method",
           "value": "GET,POST"
         },
         {
           "key": "contentLenMin",
           "value": "310000"
         },
         {
           "key": "contentLenMax",
           "value": "320000"
         },
         {
           "key": "ipi",
           "value": "true"
         }
     ]
   },
      "explicitProxy_irule": {
        "class": "iRule",
        "iRule": {
          "base64": "d2hlbiBSVUxFX0lOSVQgewogICAgc2V0IHN0YXRpYzo6YWxsb3dQcm94eVYxIDAKICAgIHNldCBzdGF0aWM6OmFsbG93UHJveHlWMiAxCiAgICBzZXQgc3RhdGljOjphbGxvd05vUHJveHkgMAogICAgc2V0IHN0YXRpYzo6ZXhwbGljaXRQcm94eV9kZWJ1ZyAwOyAjIGlmIHRoaXMgaXMgc2V0IHRvIDEgYWRkaXRpb25hbCBjb25kaXRpb25hbCBsb2dnaW5nIHdpbGwgYmUgZW5hYmxlZC4KfQoKd2hlbiBDTElFTlRfQUNDRVBURUQgewogICAgc2V0IGhzbHByb3h5IFtIU0w6Om9wZW4gLXByb3RvIFRDUCAtcG9vbCBTaGFyZWQvdGVsZW1ldHJ5X3Bvb2xdCiAgICBzZXQgaHNsX3Byb3h5Y2xpZW50QWNjZXB0ICJsb2dUeXBlPVwicHJveHlMb2dcIixldmVudFRpbWVzdGFtcD1cIltjbG9jayBmb3JtYXQgW2Nsb2NrIHNlY29uZHNdIC1mb3JtYXQgIiVhLCAlZCAlaCAlWSAlVCBHTVQiIC1nbXQgMV1cIixiaWdpcEhvc3RuYW1lPVwiJHN0YXRpYzo6dGNsX3BsYXRmb3JtKG1hY2hpbmUpXCIsY2xpZW50SXA9XCJbSVA6OnJlbW90ZV9hZGRyIGNsaWVudHNpZGVdXCIsY2xpZW50UG9ydD1cIltUQ1A6OmNsaWVudF9wb3J0XVwiLHByb3h5SXA9XCJbSVA6OmxvY2FsX2FkZHIgY2xpZW50c2lkZV1cIixwcm94eVBvcnQ9XCJbVENQOjpsb2NhbF9wb3J0IGNsaWVudHNpZGVdXCIsdmlydHVhbE5hbWU9XCJbdmlydHVhbCBuYW1lXVwiLGJ5dGVzVG9DbGllbnQ9XCJbSVA6OnN0YXRzIGJ5dGVzIG91dF1cIixieXRlc1RvUHJveHk9XCJbSVA6OnN0YXRzIGJ5dGVzIGluXVwiIgogICAgVENQOjpjb2xsZWN0Cn0Kd2hlbiBTRVJWRVJfSU5JVCB7CiAgICBpZiB7W2luZm8gZXhpc3RzIHYyX3NvdXJjZUFkZHJlc3NdfXsKICAgICAgICBzY2FuICR2Ml9zb3VyY2VBZGRyZXNzIHslZC4lZC4lZC4lZC59IGEgYiBjIGQKICAgICAgICBpZiB7JGN1c3RIdHRwSGVhZGVyICE9ICIifSB7CiAgICAgICAgICAgIHNjYW4gJGN1c3RIdHRwSGVhZGVyIHslW146XTolW146XTolc30gNmEgNmIgNmMKICAgICAgICAgICAgVENQOjpvcHRpb24gc2V0IDI4IFtiaW5hcnkgZm9ybWF0IGNjY2NjSDEyIHsxfSAkYSAkYiAkYyAkZCAkNmEkNmIkNmNdIGFsbAogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgVENQOjpvcHRpb24gc2V0IDI4IFtiaW5hcnkgZm9ybWF0IGNjY2NjIHsxfSAkYSAkYiAkYyAkZF0gYWxsCiAgICAgICAgfQogICAgfQp9CndoZW4gQ0xJRU5UX0RBVEEgewogICAgYmluYXJ5IHNjYW4gW1RDUDo6cGF5bG9hZCAxMl0gSCogdjJfcHJvdG9jb2xfc2lnCiAgICBpZiB7JHN0YXRpYzo6YWxsb3dQcm94eVYxICYmIFtUQ1A6OnBheWxvYWQgMCA1XSBlcSAiUFJPWFkifSB7CiAgICAgICAgc2V0IHByb3h5X3N0cmluZyBbVENQOjpwYXlsb2FkXQogICAgICAgIHNldCBwcm94eV9zdHJpbmdfbGVuZ3RoIFtleHByIHtbc3RyaW5nIGZpcnN0ICJcciIgW1RDUDo6cGF5bG9hZF1dICsgMn1dCiAgICAgICAgc2NhbiAkcHJveHlfc3RyaW5nIHtQUk9YWSBUQ1AlcyVzJXMlcyVzfSB0Y3B2ZXIgc3JjYWRkciBkc3RhZGRyIHNyY3BvcnQgZHN0cG9ydAogICAgICAgIGlmIHsgJHN0YXRpYzo6ZXhwbGljaXRQcm94eV9kZWJ1ZyB9IHtsb2cgbG9jYWwwLmRlYnVnICJQcm94eSBQcm90b2NvbCB2MSBjb25uIGZyb20gW0lQOjpjbGllbnRfYWRkcl06W1RDUDo6Y2xpZW50X3BvcnRdIGZvciBhbiBJUHYkdGNwdmVyIHN0cmVhbSBmcm9tIFNyYzogJHNyY2FkZHI6JHNyY3BvcnQgdG8gRHN0OiAkZHN0YWRkcjokZHN0cG9ydCJ9CiAgICAgICAgVENQOjpwYXlsb2FkIHJlcGxhY2UgMCAkcHJveHlfc3RyaW5nX2xlbmd0aCAiIgogICAgfSBlbHNlaWYgeyRzdGF0aWM6OmFsbG93UHJveHlWMiAmJiAkdjJfcHJvdG9jb2xfc2lnIGVxICIwZDBhMGQwYTAwMGQwYTUxNTU0OTU0MGEifXsKICAgICAgICBiaW5hcnkgc2NhbiBbVENQOjpwYXlsb2FkXSBAMTJIKiB2Ml9wcm94eWhlYWRlcnJlbWFpbmRlcgogICAgICAgIGJpbmFyeSBzY2FuIFtUQ1A6OnBheWxvYWRdIEAxMkgySCogdjJfdmVyQ29tbWFuZCB2Ml9yZW1haW5kZXIKICAgICAgICBpZiB7JHYyX3ZlckNvbW1hbmQgPT0gMjF9ewogICAgICAgICAgICBiaW5hcnkgc2NhbiBbVENQOjpwYXlsb2FkXSBAMTNIMiB2Ml9hZGRyZXNzRmFtaWx5VHJhbnNwb3J0UHJvdG9jb2wKICAgICAgICAgICAgaWYgeyR2Ml9hZGRyZXNzRmFtaWx5VHJhbnNwb3J0UHJvdG9jb2wgPT0gMTF9IHsKICAgICAgICAgICAgICAgIGJpbmFyeSBzY2FuIFtUQ1A6OnBheWxvYWRdIEAxNmNjY2NjY2NjU1MgdjJfc291cmNlQWRkcmVzczEgdjJfc291cmNlQWRkcmVzczIgdjJfc291cmNlQWRkcmVzczMgdjJfc291cmNlQWRkcmVzczQgdjJfZGVzdEFkZHJlc3MxIHYyX2Rlc3RBZGRyZXNzMiB2Ml9kZXN0QWRkcmVzczMgdjJfZGVzdEFkZHJlc3M0IHYyX3NvdXJjZVBvcnQxIHYyX2Rlc3RQb3J0MQogICAgICAgICAgICAgICAgc2V0IHYyX3NvdXJjZUFkZHJlc3MgIltleHByIHskdjJfc291cmNlQWRkcmVzczEgJiAweGZmfV0uW2V4cHIgeyR2Ml9zb3VyY2VBZGRyZXNzMiAmIDB4ZmZ9XS5bZXhwciB7JHYyX3NvdXJjZUFkZHJlc3MzICYgMHhmZn1dLltleHByIHskdjJfc291cmNlQWRkcmVzczQgJiAweGZmfV0iCiAgICAgICAgICAgICAgICBzZXQgdjJfZGVzdEFkZHJlc3MgIltleHByIHskdjJfZGVzdEFkZHJlc3MxICYgMHhmZn1dLltleHByIHskdjJfZGVzdEFkZHJlc3MyICYgMHhmZn1dLltleHByIHskdjJfZGVzdEFkZHJlc3MzICYgMHhmZn1dLltleHByIHskdjJfZGVzdEFkZHJlc3M0ICYgMHhmZn1dIgogICAgICAgICAgICAgICAgc2V0IHYyX3NvdXJjZVBvcnQgW2V4cHIgeyR2Ml9zb3VyY2VQb3J0MSAmIDB4ZmZmZn1dCiAgICAgICAgICAgICAgICBzZXQgdjJfZGVzdFBvcnQgW2V4cHIgeyR2Ml9kZXN0UG9ydDEgJiAweGZmZmZ9XQogICAgICAgICAgICAgICAgaWYgeyAkc3RhdGljOjpleHBsaWNpdFByb3h5X2RlYnVnIH0geyBsb2cgIlByb3h5IFByb3RvY29sIHYyIGNvbm4gZnJvbSBbSVA6OmNsaWVudF9hZGRyXTpbVENQOjpjbGllbnRfcG9ydF0gZm9yIGFuIElQdjQgU3RyZWFtIGZyb20gU3JjOiAkdjJfc291cmNlQWRkcmVzczokdjJfc291cmNlUG9ydCB0byBEc3Q6ICR2Ml9kZXN0QWRkcmVzczokdjJfZGVzdFBvcnQifQogICAgCQkJYmluYXJ5IHNjYW4gW1RDUDo6cGF5bG9hZF0gQDE0UyBhZGRyZXNzX3NpemUKICAgIAkJCXNldCBza2lwX2J5dGVzIFtleHByIDE2ICsgJGFkZHJlc3Nfc2l6ZV0KICAgICAgICAgICAgICAgIFRDUDo6cGF5bG9hZCByZXBsYWNlIDAgJHNraXBfYnl0ZXMgIiIKICAgICAgICAgICAgfSBlbHNlaWYgeyR2Ml9hZGRyZXNzRmFtaWx5VHJhbnNwb3J0UHJvdG9jb2wgPT0gMjF9IHsKICAgICAgICAgICAgICAgIGJpbmFyeSBzY2FuIFtUQ1A6OnBheWxvYWRdIEAxNkg0SDRINEg0SDRINEg0SDQgdjJfdjZzb3VyY2VBZGRyZXNzMSB2Ml92NnNvdXJjZUFkZHJlc3MyIHYyX3Y2c291cmNlQWRkcmVzczMgdjJfdjZzb3VyY2VBZGRyZXNzNCB2Ml92NnNvdXJjZUFkZHJlc3M1IHYyX3Y2c291cmNlQWRkcmVzczYgdjJfdjZzb3VyY2VBZGRyZXNzNyB2Ml92NnNvdXJjZUFkZHJlc3M4CiAgICAgICAgICAgICAgICBiaW5hcnkgc2NhbiBbVENQOjpwYXlsb2FkXSBAMzJINEg0SDRINEg0SDRINEg0IHYyX3Y2ZGVzdEFkZHJlc3MxIHYyX3Y2ZGVzdEFkZHJlc3MyIHYyX3Y2ZGVzdEFkZHJlc3MzIHYyX3Y2ZGVzdEFkZHJlc3M0IHYyX3Y2ZGVzdEFkZHJlc3M1IHYyX3Y2ZGVzdEFkZHJlc3M2IHYyX3Y2ZGVzdEFkZHJlc3M3IHYyX3Y2ZGVzdEFkZHJlc3M4CiAgICAgICAgICAgICAgICBiaW5hcnkgc2NhbiBbVENQOjpwYXlsb2FkXSBANDhTUyB2Ml92NnNvdXJjZVBvcnQxIHYyX3Y2ZGVzdFBvcnQxCiAgICAgICAgICAgICAgICBzZXQgdjJfdjZzb3VyY2VQb3J0IFtleHByIHskdjJfdjZzb3VyY2VQb3J0MSAmIDB4ZmZmZn1dCiAgICAgICAgICAgICAgICBzZXQgdjJfdjZkZXN0UG9ydCBbZXhwciB7JHYyX3Y2ZGVzdFBvcnQxICYgMHhmZmZmfV0KICAgICAgICAgICAgICAgIHNldCB2Ml92NnNvdXJjZUFkZHJlc3MgIiR2Ml92NnNvdXJjZUFkZHJlc3MxOiR2Ml92NnNvdXJjZUFkZHJlc3MyOiR2Ml92NnNvdXJjZUFkZHJlc3MzOiR2Ml92NnNvdXJjZUFkZHJlc3M0OiR2Ml92NnNvdXJjZUFkZHJlc3M1OiR2Ml92NnNvdXJjZUFkZHJlc3M2OiR2Ml92NnNvdXJjZUFkZHJlc3M3OiR2Ml92NnNvdXJjZUFkZHJlc3M4IgogICAgICAgICAgICAgICAgc2V0IHYyX3Y2ZGVzdEFkZHJlc3MgIiR2Ml92NmRlc3RBZGRyZXNzMTokdjJfdjZkZXN0QWRkcmVzczI6JHYyX3Y2ZGVzdEFkZHJlc3MzOiR2Ml92NmRlc3RBZGRyZXNzNDokdjJfdjZkZXN0QWRkcmVzczU6JHYyX3Y2ZGVzdEFkZHJlc3M2OiR2Ml92NmRlc3RBZGRyZXNzNzokdjJfdjZkZXN0QWRkcmVzczgiCiAgICAgICAgICAgICAgICBpZiB7ICRzdGF0aWM6OmV4cGxpY2l0UHJveHlfZGVidWcgfSB7IGxvZyAiUHJveHkgUHJvdG9jb2wgdjIgY29ubiBmcm9tIGZyb20gW0lQOjpjbGllbnRfYWRkcl06W1RDUDo6Y2xpZW50X3BvcnRdIGZvciBhbiBJUHY2IFN0cmVhbSBmcm9tIFNyYzogJHYyX3Y2c291cmNlQWRkcmVzczokdjJfdjZzb3VyY2VQb3J0IHRvIERzdDogJHYyX3Y2ZGVzdEFkZHJlc3M6JHYyX3Y2ZGVzdFBvcnQifQogICAgCQkJYmluYXJ5IHNjYW4gW1RDUDo6cGF5bG9hZF0gQDE0UyBhZGRyZXNzX3NpemUKICAgIAkJCXNldCBza2lwX2J5dGVzIFtleHByIDE2ICsgJGFkZHJlc3Nfc2l6ZV0KICAgICAgICAgICAgICAgIFRDUDo6cGF5bG9hZCByZXBsYWNlIDAgJHNraXBfYnl0ZXMgIiIKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIHsgJHN0YXRpYzo6ZXhwbGljaXRQcm94eV9kZWJ1ZyB9IHtsb2cgbG9jYWwwLmNyaXQgInYyX3Byb3h5IGNvbm4gZnJvbSBbSVA6OmNsaWVudF9hZGRyXTpbVENQOjpjbGllbnRfcG9ydF0gLSBwb3NzaWJsZSB1bmtub3duL21hbGZvcm1lZCB0cmFuc3BvcnRQcm90b2NvbCBvciBhZGRyZXNzRmFtaWx5In0KICAgICAgICAgICAgICAgIHJlamVjdAogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlaWYgeyR2Ml92ZXJDb21tYW5kID09IDIwfXsKICAgICAgICAgICAgaWYgeyAkc3RhdGljOjpleHBsaWNpdFByb3h5X2RlYnVnIH0geyBsb2cgIlByb3h5IFByb3RvY29sIHYyIGFuZCBMT0NBTCBjb21tYW5kIGZyb20gW0lQOjpjbGllbnRfYWRkcl06W1RDUDo6Y2xpZW50X3BvcnRdOyBza2lwcGluZyJ9CgkJCWJpbmFyeSBzY2FuIFtUQ1A6OnBheWxvYWRdIEAxNFMgYWRkcmVzc19zaXplCgkJCXNldCBza2lwX2J5dGVzIFtleHByIDE2ICsgJGFkZHJlc3Nfc2l6ZV0KICAgICAgICAgICAgVENQOjpwYXlsb2FkIHJlcGxhY2UgMCAkc2tpcF9ieXRlcyAiIgogICAgICAgICAgICBiaW5hcnkgc2NhbiBbVENQOjpwYXlsb2FkXSBIKiBsb2NhbF9yZW1haW5kZXIKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiB7ICRzdGF0aWM6OmV4cGxpY2l0UHJveHlfZGVidWcgfSB7bG9nIGxvY2FsMC5jcml0ICJQcm94eSBQcm90b2NvbCBQcm90b2NvbCBTaWduYXR1cmUgRGV0ZWN0ZWQgZnJvbSBbSVA6OmNsaWVudF9hZGRyXTpbVENQOjpjbGllbnRfcG9ydF0gYnV0IHByb3RvY29sIHZlcnNpb24gYW5kIGNvbW1hbmQgbm90IGxlZ2FsOyBjb25uZWN0aW9uIHJlc2V0In0KICAgICAgICAgICAgcmVqZWN0CiAgICAgICAgfQogICAgfSBlbHNlaWYgeyRzdGF0aWM6OmFsbG93Tm9Qcm94eX0gewogICAgICAgIGlmIHsgJHN0YXRpYzo6ZXhwbGljaXRQcm94eV9kZWJ1ZyB9IHsgbG9nIGxvY2FsMC5jcml0ICJDb25uZWN0aW9uIGZyb20gW0lQOjpjbGllbnRfYWRkcl06W1RDUDo6Y2xpZW50X3BvcnRdIGFsbG93ZWQgZGVzcGl0ZSBsYWNrIG9mIFBST1hZIHByb3RvY29sIGhlYWRlciJ9CiAgICB9IGVsc2UgewogICAgICAgIHJlamVjdAogICAgICAgICNsb2cgbG9jYWwwLmNyaXQgIkNvbm5lY3Rpb24gcmVqZWN0ZWQgZnJvbSBbSVA6OmNsaWVudF9hZGRyXTpbVENQOjpjbGllbnRfcG9ydF0gZHVlIHRvIGxhY2sgb2YgUFJPWFkgcHJvdG9jb2wgaGVhZGVyIgogICAgICAgIGlmIHsgJHN0YXRpYzo6ZXhwbGljaXRQcm94eV9kZWJ1ZyB9IHtsb2cgbG9jYWwwLmRlYnVnICJUQ1AgcGF5bG9hZDogW1RDUDo6cGF5bG9hZF0ifQogICAgfQogICAgVENQOjpyZWxlYXNlCn0Kd2hlbiBIVFRQX1BST1hZX1JFUVVFU1QgewogICAgc2V0IDQwM3Jlc3BvbnNlIDAKICAgIHNldCBzaGFyZWRUcmFmZmljICJzaGFyZWQiCiAgICAjIEJ5cGFzcyBtaXRpZ2F0aW9uOiBEZWxldGUgMyBsaW5lcyBiZWxvdwogICAgIyBpZiB7W0hUVFA6Omhvc3RdID09ICIifSB7CiAgICAjICAgICBIVFRQOjpoZWFkZXIgcmVwbGFjZSBIb3N0IFtIVFRQOjp1cmldCiAgICAjICAgICB9CiAgICAjIEJ5cGFzcyBtaXRpZ2F0aW9uOiByZXdyaXRlIHRoaXMgdmFyaWFibGUKICAgICNzZXQgaHNsX3Byb3h5aHR0cFByb3h5UmVxICJ1cmw9XCJbZ2V0ZmllbGQgW0hUVFA6Omhvc3RdICI6IiAxXVwiLHBvcnRSZXFCeUNsaWVudD1cIltVUkk6OnBvcnQgW0hUVFA6OnVyaV1dXCIsaHR0cEhvc3Q9XCJbSFRUUDo6dXJpXVwiLGh0dHBNZXRob2Q9XCJbSFRUUDo6bWV0aG9kXVwiLGh0dHBWZXJzaW9uPVwiW0hUVFA6OnZlcnNpb25dXCIiCiAgICBzZXQgaHNsX3Byb3h5aHR0cFByb3h5UmVxICJ1cmw9XCJbSFRUUDo6dXJpXVwiLHBvcnRSZXFCeUNsaWVudD1cIltVUkk6OnBvcnQgW0hUVFA6OnVyaV1dXCIsaHR0cEhvc3Q9XCJbVVJJOjpob3N0IFtIVFRQOjp1cmldXVwiLGh0dHBNZXRob2Q9XCJbSFRUUDo6bWV0aG9kXVwiLGh0dHBWZXJzaW9uPVwiW0hUVFA6OnZlcnNpb25dXCIiCiAgICAjIEJ5cGFzcyBtaXRpZ2F0aW9uOiByZXdyaXRlIHRoaXMgdmFyaWFibGUKICAgICNzZXQgaG9zdFBvcnQgW2dldGZpZWxkIFtIVFRQOjpob3N0XSAiOiIgMl0KICAgIHNldCBob3N0UG9ydCBbVVJJOjpwb3J0IFtIVFRQOjp1cmldXQogICAgc2V0IGN1c3RIdHRwSGVhZGVyIFtIVFRQOjpoZWFkZXIgdmFsdWUgInByb3h5VVVJRCJdCiAgICAjIEJ5cGFzcyBtaXRpZ2F0aW9uOiBzZWN0aW9uIGNhbiBiZSByZW1vdmVkCiAgICAjIGlmIHtbc3RyaW5nIHRyaW0gJGhvc3RQb3J0XSAhPSAiIn0gewogICAgIyAgICAgIyBQb3J0IGlzIHBhcnQgb2YgdGhlIEhPU1QgaGVhZGVyLCBubyBhY3Rpb24gaXMgbmVlZGVkCiAgICAjIH0gZWxzZSB7CiAgICAjICAgICBzZXQgaG9zdFBvcnQgNDQzCiAgICAjICAgICAjIFRoaXMgaXMgYmVpbmcgZG9uZSB0byBoYW5kbGUgYSBzY2VuYXJpbyByZWxhdGVkIHRvIGZvcm0zIHdoZXJlIGluIHRoZSBDT05ORUNUIHBoYXNlIHRoZQogICAgIyAgICAgIyBIT1NUIGRvZXMgbm90IGhhdmUgdGhlIHBvcnQgaW5mb3JtYXRpb24gcHJvdmlkZWQgYXMgcmVxdWlyZWQgYnkgdGhlIFJGQzogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcyMzEjc2VjdGlvbi00LjMuNgogICAgIyAgICAgaWYgeyAkc3RhdGljOjpleHBsaWNpdFByb3h5X2RlYnVnIH0geyBsb2cgbG9jYWwwLndhcm5pbmcgIkhvc3QgcG9ydCBpcyBudWxsLiBTZXR0aW5nIGl0IHRvIDQ0MyBmb3IgaG9zdDogW2dldGZpZWxkIFtzdHJpbmcgdG9sb3dlciBbSFRUUDo6aG9zdF1dICI6IiAxXSJ9CiAgICAjIH0KICAgICNVc2UgY3VzdG9tIGhlYWRlciBpZiBub3QgdXNlIElQIGFkZHJlc3MKICAgIGlmIHsgJGN1c3RIdHRwSGVhZGVyICE9ICIifSB7CiAgICAgICBzZXQgc291cmNlQ2xpZW50ICRjdXN0SHR0cEhlYWRlcgogICAgICAgc2V0IGN1c3RvbUhlYWRlciAxCiAgICB9CiAgICBlbHNlIHsKICAgICAgIHNldCBzb3VyY2VDbGllbnQgJHYyX3NvdXJjZUFkZHJlc3MKICAgICAgIHNldCBjdXN0b21IZWFkZXIgMAogICAgfQoKICAgICMgMS4gQ2hlY2sgaWYgc291cmNlQ2xpZW50IGV4aXN0cwogICAgIyAyLiBDaGVjayBpZiBjdXN0b21IZWFkZXIgZXhpc3RzLCBpZiB5ZXMgc2V0IHRoZSBzcmNEYXRhZ3JvdXAKICAgICMgMy4gSWYgbm8sIHRoZW4gY2hlY2sgaWYgdGhlIGhvc3RuYW1lIGV4aXN0cyBpbiBTaGFyZWQvZXhwbGljaXRQeHlfYnlwYXNzCiAgICAjIDQuIElmIG5vLCB0aGVuIGNoZWNrIGlmIHRoZSBob3N0bmFtZSBleGlzdHMgaW4gdGhlIFNoYXJlZC9zaGFyZWRfZGF0YWdyb3VwCiAgICAjIDUuIElmIG5vLCB0aGVuIGNoZWNrIGlmIHRoZSBzb3VyY2VDbGllbnQgZXhpc3RzIGluIHRoZSBzaGFyZWQgY2lkciBkYXRhZ3JvdXAgKHNyY2lwVG9EYXRhZ3JvdXApCgogICAgaWYge1tpbmZvIGV4aXN0cyBzb3VyY2VDbGllbnRdfSB7CgogICAgICAgIHNldCB3aGl0ZWxpc3RIb3N0QWNjZXB0ZWQgIndoaXRlbGlzdEhvc3Q9XCJBQ0NFUFRFRFwiIgoKICAgICAgICBpZiB7ICRzdGF0aWM6OmV4cGxpY2l0UHJveHlfZGVidWcgfSB7bG9nIGxvY2FsMC5kZWJ1ZyAic291cmNlIHZhcmlhYmxlIEhUVFBTOiAkc291cmNlQ2xpZW50In0KCiAgICAgICAgaWYgeyRjdXN0b21IZWFkZXIgPT0gMX0gewogICAgICAgICAgICBzZXQgc3JjRGF0YWdyb3VwIFtjbGFzcyBtYXRjaCAtdmFsdWUgJHNvdXJjZUNsaWVudCBlcXVhbHMgU2hhcmVkL3Byb3h5RmlsdGVySGVhZGVyVG9EYXRhZ3JvdXBdCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2V0IHNyY0RhdGFncm91cCBbY2xhc3MgbWF0Y2ggLXZhbHVlICRzb3VyY2VDbGllbnQgZXF1YWxzIFNoYXJlZC9zcmNpcFRvRGF0YWdyb3VwXQogICAgICAgIH0KCiAgICAgICAgaWYgeyAoW0hUVFA6OnVyaV0gY29udGFpbnMgImpuZGk6bGRhcCIpIHx8IChbSFRUUDo6dXJpXSBjb250YWlucyAiam5kaSUzQWxkYXAiKSB9IHsKCiAgICAgICAgICAgIHNldCA0MDNyZXNwb25zZSAxCiAgICAgICAgICAgIHNldCBoc2xfcHJveHl3aGl0ZWxpc3RIb3N0ICJ3aGl0ZWxpc3RIb3N0PVwiREVOSUVEIGR1ZSB0byBMREFQIHJlcXVlc3RcIiIKICAgICAgICAgICAgSFNMOjpzZW5kICRoc2xwcm94eSAiQXBhY2hlIExvZzRqIHZ1bG5lcmFiaWxpdHkgcHJldmVudGlvbiBmaXguIgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIHsgJHN0YXRpYzo6ZXhwbGljaXRQcm94eV9kZWJ1ZyB9IHtsb2cgbG9jYWwwLmluZm8gImNoZWNraW5nIGluIGV4cGxpY2l0UHh5X2J5cGFzcyBhbmQgc2hhcmVkIGRhdGFncm91cHMifQogICAgICAgICAgICAjQnlwYXNzIG1pdGlnYXRpb24gLSB1cGRhdGUgdmFyaWFibGUKICAgICAgICAgICAgI3NldCBob3N0TmFtZSBbZ2V0ZmllbGQgW3N0cmluZyB0b2xvd2VyIFtIVFRQOjpob3N0XV0gIjoiIDFdCiAgICAgICAgICAgIHNldCBob3N0TmFtZSBbc3RyaW5nIHRvbG93ZXIgW1VSSTo6aG9zdCBbSFRUUDo6dXJpXV1dCiAgICAgICAgICAgIHNldCBkb3RJbmRleCBbc3RyaW5nIGZpcnN0ICIuIiAkaG9zdE5hbWUgMF0KICAgICAgICAgICAgc2V0IHN0YXJIb3N0TmFtZSBbc3RyaW5nIHJlcGxhY2UgJGhvc3ROYW1lIDAgJGRvdEluZGV4ICIjLiJdCiAgICAgICAgICAgICNsb2cgbG9jYWwwLmluZm8gIlJFUExBQ0VEOiAkc3Rhckhvc3ROYW1lIgoKICAgICAgICAgICAgc2V0IHNoYXJlZFRyYWZmaWNEYXRhZ3JvdXAgW2NsYXNzIG1hdGNoIC12YWx1ZSAkc2hhcmVkVHJhZmZpYyBlcXVhbHMgU2hhcmVkL3NoYXJlZERhdGFncm91cF0KCiAgICAgICAgICAgIGlmIHtbY2xhc3MgbWF0Y2ggJGhvc3ROYW1lIGVxdWFscyBTaGFyZWQvZXhwbGljaXRQeHlfYnlwYXNzIF19IHsKICAgICAgICAgICAgICAgIHNldCBoc2xfcHJveHl3aGl0ZWxpc3RIb3N0ICR3aGl0ZWxpc3RIb3N0QWNjZXB0ZWQKICAgICAgICAgICAgICAgIHNldCBoc2xfcHJveHl3aGl0ZWxpc3RIb3N0ICJleHBsaWNpdFB4eV9ieXBhc3M9XCJUcnVlXCIiCiAgICAgICAgICAgIH0gZWxzZWlmIHtbY2F0Y2ggJHNoYXJlZFRyYWZmaWNEYXRhZ3JvdXBdICYmICgkaG9zdFBvcnQgPT0gNDQzIG9yICRob3N0UG9ydCA+IDEwMjQpICYmIChbY2xhc3MgbWF0Y2ggJGhvc3ROYW1lIGVxdWFscyBTaGFyZWQvJHNoYXJlZFRyYWZmaWNEYXRhZ3JvdXAgXSB8fCBbY2xhc3MgbWF0Y2ggJHN0YXJIb3N0TmFtZSBlcXVhbHMgU2hhcmVkLyRzaGFyZWRUcmFmZmljRGF0YWdyb3VwIF0pfSB7CiAgICAgICAgICAgICAgICBzZXQgaHNsX3Byb3h5d2hpdGVsaXN0SG9zdCAkd2hpdGVsaXN0SG9zdEFjY2VwdGVkCiAgICAgICAgICAgIH0gZWxzZWlmIHtbY2F0Y2ggJHNyY0RhdGFncm91cF0gJiYgKCRob3N0UG9ydCA9PSA0NDMgb3IgJGhvc3RQb3J0ID4gMTAyNCl9IHsKCiAgICAgICAgICAgICAgICAjQnlwYXNzIG1pdGlnYXRpb24KICAgICAgICAgICAgICAgICNpZiB7W2NsYXNzIG1hdGNoIFtnZXRmaWVsZCBbc3RyaW5nIHRvbG93ZXIgW0hUVFA6Omhvc3RdXSAiOiIgMV0gZXF1YWxzIFNoYXJlZC8kc3JjRGF0YWdyb3VwIF19CiAgICAgICAgICAgICAgICBpZiB7W2NsYXNzIG1hdGNoIFtzdHJpbmcgdG9sb3dlciBbVVJJOjpob3N0IFtIVFRQOjp1cmldXV0gZXF1YWxzIFNoYXJlZC8kc3JjRGF0YWdyb3VwIF19IHsKICAgICAgICAgICAgICAgICAgICBzZXQgaHNsX3Byb3h5d2hpdGVsaXN0SG9zdCAkd2hpdGVsaXN0SG9zdEFjY2VwdGVkCiAgICAgICAgICAgICAgICB9IGVsc2VpZiB7W2NsYXNzIG1hdGNoICRzdGFySG9zdE5hbWUgZXF1YWxzIFNoYXJlZC8kc3JjRGF0YWdyb3VwIF19IHsKICAgICAgICAgICAgICAgICAgICBzZXQgaHNsX3Byb3h5d2hpdGVsaXN0SG9zdCAkd2hpdGVsaXN0SG9zdEFjY2VwdGVkCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNldCA0MDNyZXNwb25zZSAxCiAgICAgICAgICAgICAgICAgICAgSFNMOjpzZW5kICRoc2xwcm94eSAiQSBtYXBwaW5nIG9mIHNvdXJjZSBJUCB0byBkYXRhZ3JvdXAgd2FzIG5vdCBmb3VuZCwgcmVzcG9uZGluZyB3aXRoIDQwMyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNldCA0MDNyZXNwb25zZSAxCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBzZXQgNDAzcmVzcG9uc2UgMQogICAgICAgIEhTTDo6c2VuZCAkaHNscHJveHkgIlRoZSBQcm94eSB2MiBpUnVsZSBkaWQgbm90IHByb2R1Y2UgYSBzb3VyY2UgSVAsIHVuYWJsZSB0byBhbGxvdyB0cmFmZmljLCByZXNwb25kaW5nIHdpdGggNDAzIgogICAgfQogICAgaWYgeyQ0MDNyZXNwb25zZSA9PSAxfSB7CiAgICAgICAgI0J5cGFzcyBNaXRpZ2F0aW9uCiAgICAgICAgI2lmIHsgJHN0YXRpYzo6ZXhwbGljaXRQcm94eV9kZWJ1ZyB9IHsgbG9nIGxvY2FsMC5pbmZvICJIb3N0bmFtZTogWyBnZXRmaWVsZCBbSFRUUDo6aG9zdF0gIjoiIDFdIn0KICAgICAgICBpZiB7ICRzdGF0aWM6OmV4cGxpY2l0UHJveHlfZGVidWcgfSB7IGxvZyBsb2NhbDAuaW5mbyAiSG9zdG5hbWU6IFsgVVJJOjpob3N0IFtIVFRQOjp1cmldXSJ9CiAgICAgICAgI0J5cGFzcyBNaXRpZ2F0aW9uCiAgICAgICAgI2lmIHsgJHN0YXRpYzo6ZXhwbGljaXRQcm94eV9kZWJ1ZyB9IHtsb2cgbG9jYWwwLiAiUG9ydDogWyBnZXRmaWVsZCBbSFRUUDo6aG9zdF0gIjoiIDJdIn0KICAgICAgICBpZiB7ICRzdGF0aWM6OmV4cGxpY2l0UHJveHlfZGVidWcgfSB7bG9nIGxvY2FsMC4gIlBvcnQ6IFsgVVJJOjpwb3J0IFtIVFRQOjp1cmldXSJ9CiAgICAgICAgaWYgeyAkc3RhdGljOjpleHBsaWNpdFByb3h5X2RlYnVnIH0geyBsb2cgbG9jYWwwLiAiJGhzbF9wcm94eWNsaWVudEFjY2VwdCA6ICRoc2xfcHJveHlodHRwUHJveHlSZXEifQogICAgICAgIEhUVFA6OmNsb3NlCiAgICAgICAgSFRUUDo6cmVzcG9uZCA0MDMKICAgICAgICBzZXQgaHNsX3Byb3h5d2hpdGVsaXN0SG9zdCAid2hpdGVsaXN0SG9zdD1cIkRFTklFRFwiIgogICAgfQogICAgSFNMOjpzZW5kICRoc2xwcm94eSAiJGhzbF9wcm94eWNsaWVudEFjY2VwdCwkaHNsX3Byb3h5aHR0cFByb3h5UmVxLCRoc2xfcHJveHl3aGl0ZWxpc3RIb3N0IgogICAgI2lmIHsgJHN0YXRpYzo6ZXhwbGljaXRQcm94eV9kZWJ1ZyB9IHsgbG9nIGxvY2FsMC4gIiRoc2xfcHJveHljbGllbnRBY2NlcHQsJGhzbF9wcm94eWh0dHBQcm94eVJlcSwkaHNsX3Byb3h5d2hpdGVsaXN0SG9zdCJ9Cn0="
        }
      },
      "explicitHttps_irule": {
        "class": "iRule",
        "iRule": {
          "base64": "d2hlbiBSVUxFX0lOSVQgewogICAgc2V0IHN0YXRpYzo6ZXhwbGljaXRIVFRQU19kZWJ1ZyAwOyAjIGlmIHRoaXMgaXMgc2V0IHRvIDEgYWRkaXRpb25hbCBjb25kaXRpb25hbCBsb2dnaW5nIHdpbGwgYmUgZW5hYmxlZC4KfQoKd2hlbiBDTElFTlRfQUNDRVBURUQgewogICAgc2V0IGhzbGh0dHBzIFtIU0w6Om9wZW4gLXByb3RvIFRDUCAtcG9vbCBTaGFyZWQvdGVsZW1ldHJ5X3Bvb2wyXQogICAgc2V0IGhzbF9odHRwc2NsaWVudEFjY2VwdCAibG9nVHlwZT1cImh0dHBzTG9nXCIsZXZlbnRUaW1lc3RhbXA9XCJbY2xvY2sgZm9ybWF0IFtjbG9jayBzZWNvbmRzXSAtZm9ybWF0ICIlYSwgJWQgJWggJVkgJVQgR01UIiAtZ210IDFdXCIsYmlnaXBIb3N0bmFtZT1cIiRzdGF0aWM6OnRjbF9wbGF0Zm9ybShtYWNoaW5lKVwiLGNsaWVudElwPVwiW0lQOjpyZW1vdGVfYWRkciBjbGllbnRzaWRlXVwiLGNsaWVudFBvcnQ9XCJbVENQOjpjbGllbnRfcG9ydF1cIix2aXJ0dWFsTmFtZT1cIlt2aXJ0dWFsIG5hbWVdXCIsYnl0ZXNUb0NsaWVudD1cIltJUDo6c3RhdHMgYnl0ZXMgb3V0XVwiLGJ5dGVzVG9Qcm94eT1cIltJUDo6c3RhdHMgYnl0ZXMgaW5dXCIiCiAgICBzZXQgb3B0MjggW1RDUDo6b3B0aW9uIGdldCAyOF0KICAgIGlmIHtbaW5mbyBleGlzdHMgb3B0MjhdfSB7CiAgICAgICAgYmluYXJ5IHNjYW4gJG9wdDI4IGNIOEgxMiB2ZXIgYWRkciB1dWlkYmluCiAgICAgICAgaWYge1tpbmZvIGV4aXN0cyB1dWlkYmluXX0gewogICAgICAgICAgICBzY2FuICRhZGRyICIlMnglMnglMnglMngiIGlwMSBpcDIgaXAzIGlwNAogICAgICAgICAgICBzZXQgdjJfc291cmNlQWRkcmVzcyAiJGlwMS4kaXAyLiRpcDMuJGlwNCIKICAgICAgICAgICAgc2NhbiAkdXVpZGJpbiAiJTRzJTRzJTRzIiB1dTEgdXUyIHV1MwogICAgICAgICAgICBzZXQgY3VzdFByb3h5SGVhZGVyICIkdXUxOiR1dTI6JHV1MyIKICAgICAgICAgICAgaWYgeyAkc3RhdGljOjpleHBsaWNpdEhUVFBTX2RlYnVnIH0ge2xvZyBsb2NhbDAuZGVidWcgIm9wdDI4IGNsaWVudCBhZGRyZXNzIGZyb20gcHJveHkgcHJvdG9jb2w6ICR2Ml9zb3VyY2VBZGRyZXNzOyBVVUlEOiAkY3VzdFByb3h5SGVhZGVyIn0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHNjYW4gJGFkZHIgIiUyeCUyeCUyeCUyeCIgaXAxIGlwMiBpcDMgaXA0CiAgICAgICAgICAgIHNldCB2Ml9zb3VyY2VBZGRyZXNzICIkaXAxLiRpcDIuJGlwMy4kaXA0IgogICAgICAgICAgICBzZXQgY3VzdFByb3h5SGVhZGVyICIiCiAgICAgICAgICAgICNpZiB7ICRzdGF0aWM6OmV4cGxpY2l0SFRUUFNfZGVidWcgfSB7IGxvZyBsb2NhbDAuZGVidWcgInYyX3NvdXJjZUFkZHJlc3M6ICR2Ml9zb3VyY2VBZGRyZXNzIn0KICAgICAgICB9CiAgICB9Cn0Kd2hlbiBDTElFTlRTU0xfSEFORFNIQUtFIHsKICAgIHNldCAgaHNsX2h0dHBzY2xpZW50c3NsaGFuZHNoYWtlICJzc2xDaXBoZXJOYW1lPVwiW1NTTDo6Y2lwaGVyIG5hbWVdXCIsc3NsQ2lwaGVyQml0cz1cIltTU0w6OmNpcGhlciBiaXRzXVwiLHNzbENpcGhlclZlcnNpb249XCJbU1NMOjpjaXBoZXIgdmVyc2lvbl1cIixzc2xDZXJ0VmFsaWQ9XCJbWDUwOTo6dmVyaWZ5X2NlcnRfZXJyb3Jfc3RyaW5nIFtTU0w6OnZlcmlmeV9yZXN1bHRdXVwiIgogICAgc2V0IGV4dF9jb3VudCBbU1NMOjpleHRlbnNpb25zIGNvdW50XQogICAgI2lmIHsgJHN0YXRpYzo6ZXhwbGljaXRIVFRQU19kZWJ1ZyB9IHsgbG9nIGxvY2FsMC5kZWJ1ZyAiQ2xpZW50U1NMX0hhbmRzaGFrZSJ9Cn0Kd2hlbiBIVFRQX1JFUVVFU1QgewogICAgaWYgeyAkc3RhdGljOjpleHBsaWNpdEhUVFBTX2RlYnVnIH0ge2xvZyBsb2NhbDAuZGVidWcgIltIVFRQOjpob3N0XSBIVFRQUzogJHYyX3NvdXJjZUFkZHJlc3MifQogICAgc2V0IDQwM3Jlc3BvbnNlIDAKICAgIHNldCB4ZmZQcm90byAiIgogICAgc2V0IHNoYXJlZFRyYWZmaWMgInNoYXJlZCIKICAgICNTZXQgWEZGIGhlYWRlcgogICAgaWYge1tpbmZvIGV4aXN0cyB2Ml9zb3VyY2VBZGRyZXNzXX0gewogICAgICAgIEhUVFA6OmhlYWRlciBpbnNlcnQgWC1Gb3J3YXJkZWQtRm9yICR2Ml9zb3VyY2VBZGRyZXNzCiAgICB9CiAgICBlbHNlIHsKICAgICAgICBIVFRQOjpoZWFkZXIgaW5zZXJ0IFgtRm9yd2FyZGVkLUZvciAiIgogICAgfQogICAgaWYge1tUQ1A6OmxvY2FsX3BvcnRdID09IDQ0M30gewogICAgICAgIEhUVFA6OmhlYWRlciBpbnNlcnQgWC1Gb3J3YXJkZWQtUHJvdG8gaHR0cHMKICAgICAgICBzZXQgeGZmUHJvdG8gaHR0cHMKICAgIH0KICAgICNTZXQgb3B0aW9uYWwgc2VhbCBoZWFkZXIKICAgIHNldCBjdXN0SFRUUFNIZWFkZXIgW0hUVFA6OmhlYWRlciB2YWx1ZSAicHJveHlVVUlEIl0KICAgIHNldCBoc2xfaHR0cHNodHRwUmVxdWVzdCAidXJsPVwiaHR0cHM6Ly9bSFRUUDo6aG9zdF1bSFRUUDo6dXJpXVwiLHNlcnZlcklQPVwiW0lQOjpsb2NhbF9hZGRyXVwiLHNlcnZlclBvcnQ9XCJbVENQOjpsb2NhbF9wb3J0XVwiLGh0dHBNZXRob2Q9XCJbSFRUUDo6bWV0aG9kXVwiLGh0dHBWZXJzaW9uPVwiW0hUVFA6OnZlcnNpb25dXCIsaHR0cFVyaT1cIltIVFRQOjp1cmldXCIsaHR0cFF1ZXJ5PVwiW0hUVFA6OnF1ZXJ5XVwiLGhlYWRlckhvc3Q9XCJbSFRUUDo6aG9zdF1cIixoZWFkZXJYZmY9XCJbSFRUUDo6aGVhZGVyIFgtRm9yd2FyZGVkLUZvcl1cIixoZWFkZXJDb250ZW50VHlwZT1cIltIVFRQOjpoZWFkZXIgQ29udGVudC1UeXBlXVwiLGhlYWRlclJlZmVyZXI9XCJbSFRUUDo6aGVhZGVyIFJlZmVyZXJdXCIsaGVhZGVyVXNlckFnZW50PVwiW0hUVFA6OmhlYWRlciBVc2VyLUFnZW50XVwiLGhlYWRlclhmUHJvdG89XCIkeGZmUHJvdG9cIiIKICAgICNVc2UgY3VzdG9tIGhlYWRlciBpZiBub3QgdXNlIElQIGFkZHJlc3MKICAgIGlmIHskY3VzdFByb3h5SGVhZGVyICE9ICIifSB7CiAgICAgICBzZXQgc291cmNlQ2xpZW50ICRjdXN0UHJveHlIZWFkZXIKICAgICAgIHNldCBjdXN0b21IZWFkZXIgMQogICAgfQogICAgZWxzZWlmIHskY3VzdEhUVFBTSGVhZGVyICE9ICIifSB7CiAgICAgICBzZXQgc291cmNlQ2xpZW50ICRjdXN0UHJveHlIZWFkZXIKICAgICAgIHNldCBjdXN0b21IZWFkZXIgMQogICAgfQogICAgZWxzZSB7CiAgICAgICBzZXQgc291cmNlQ2xpZW50ICR2Ml9zb3VyY2VBZGRyZXNzCiAgICAgICBzZXQgY3VzdG9tSGVhZGVyIDAKICAgIH0KICAgIGlmIHtbaW5mbyBleGlzdHMgc291cmNlQ2xpZW50XX0gewogICAgICAgIGlmIHskY3VzdG9tSGVhZGVyID09IDF9ewogICAgICAgICAgICBzZXQgc3JjRGF0YWdyb3VwIFtjbGFzcyBtYXRjaCAtdmFsdWUgJHNvdXJjZUNsaWVudCBlcXVhbHMgU2hhcmVkL3Byb3h5RmlsdGVySGVhZGVyVG9EYXRhZ3JvdXBdCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgaWYgeyAkc3RhdGljOjpleHBsaWNpdEhUVFBTX2RlYnVnIH0ge2xvZyBsb2NhbDAuaW5mbyAic291cmNlIHZhcmlhYmxlIEhUVFBTOiAkc291cmNlQ2xpZW50In0KICAgICAgICAgIHNldCBzcmNEYXRhZ3JvdXAgW2NsYXNzIG1hdGNoIC12YWx1ZSAkc291cmNlQ2xpZW50IGVxdWFscyBTaGFyZWQvc3JjaXBUb0RhdGFncm91cF0KICAgICAgICB9CiAgICAgICAgI2lmIHsgJHN0YXRpYzo6ZXhwbGljaXRIVFRQU19kZWJ1ZyB9IHtsb2cgbG9jYWwwLmRlYnVnICJbSFRUUDo6aG9zdF0gc291cmNlIHZhcmlhYmxlIEhUVFBTOiAkc291cmNlQ2xpZW50LCBjdXN0b21IZWFkZXIgPSAkY3VzdG9tSGVhZGVyIHNvdXJjZSBkYXRhR3JvdXA6ICRzcmNEYXRhZ3JvdXAifQogICAgICAgIGlmIHtbaW5mbyBleGlzdHMgc3JjRGF0YWdyb3VwXX0gewoKICAgICAgICAgICAgaWYgeyAoW0hUVFA6OnVyaV0gY29udGFpbnMgImpuZGk6bGRhcCIpIHx8IChbSFRUUDo6dXJpXSBjb250YWlucyAiam5kaSUzQWxkYXAiKSB9IHsKCiAgICAgICAgICAgICAgICBzZXQgNDAzcmVzcG9uc2UgMQogICAgICAgICAgICAgICAgSFNMOjpzZW5kICRoc2xodHRwcyAiQXBhY2hlIExvZzRqIHZ1bG5lcmFiaWxpdHkgcHJldmVudGlvbiBmaXguIgoKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKCiAgICAgICAgICAgICAgICBzZXQgaG9zdEFjY2VwdGVkICJ3aGl0ZWxpc3RIb3N0PVwiQUNDRVBURURcIiIKICAgICAgICAgICAgICAgIHNldCB1cmlBbGxvd2VkICJ3aGl0ZWxpc3RVUkk9XCJBTExPV0VEXCIiCiAgICAgICAgICAgICAgICBzZXQgdXJpIFtzdHJpbmcgdG9sb3dlciBbSFRUUDo6dXJpXV0KCiAgICAgICAgICAgICAgICBpZiB7ICRzcmNEYXRhZ3JvdXAgbmUgIiIgfSB7CgogICAgICAgICAgICAgICAgICAgIHNldCBob3N0TmFtZSBbZ2V0ZmllbGQgW3N0cmluZyB0b2xvd2VyIFtIVFRQOjpob3N0XV0gIjoiIDFdCiAgICAgICAgICAgICAgICAgICAgc2V0IGdldF91cmlfZGF0YWdyb3VwICBbY2xhc3MgbWF0Y2ggLXZhbHVlIFtzdHJpbmcgdG9sb3dlciAkaG9zdE5hbWVdIGVxdWFscyBTaGFyZWQvJHNyY0RhdGFncm91cF0KCiAgICAgICAgICAgICAgICAgICAgI2lmIHsgJHN0YXRpYzo6ZXhwbGljaXRIVFRQU19kZWJ1ZyB9IHtsb2cgbG9jYWwwLmluZm8gIltIVFRQOjpob3N0XSB1cmkgZGF0YWdyb3VwOiAkZ2V0X3VyaV9kYXRhZ3JvdXAifQogICAgICAgICAgICAgICAgICAgIGlmIHtbaW5mbyBleGlzdHMgZ2V0X3VyaV9kYXRhZ3JvdXBdfSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHtbY2xhc3MgbWF0Y2ggW3N0cmluZyB0b2xvd2VyICRob3N0TmFtZV0gZXF1YWxzIFNoYXJlZC8kc3JjRGF0YWdyb3VwXSAmJiBbY2xhc3MgbWF0Y2ggJHVyaSBzdGFydHNfd2l0aCBTaGFyZWQvJGdldF91cmlfZGF0YWdyb3VwXX0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmIHsgJHN0YXRpYzo6ZXhwbGljaXRIVFRQU19kZWJ1ZyB9IHtsb2cgbG9jYWwwLmRlYnVnICIkaG9zdE5hbWUgTWF0Y2hlZCB3aGl0ZUxpc3QifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0IGhzbF9odHRwc3doaXRlbGlzdEhvc3QgJGhvc3RBY2NlcHRlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0IGhzbF9odHRwc3doaXRlbGlzdFVSSSAkdXJpQWxsb3dlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgI0hUVFA6OmhlYWRlciBpbnNlcnQgWC1SZWFsLUlQIFtJUDo6cmVtb3RlX2FkZHIgY2xpZW50c2lkZV0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgZG90SW5kZXggW3N0cmluZyBmaXJzdCAiLiIgJGhvc3ROYW1lIDBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgc3Rhckhvc3ROYW1lIFtzdHJpbmcgcmVwbGFjZSAkaG9zdE5hbWUgMCAkZG90SW5kZXggIiMuIl0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNsb2cgbG9jYWwwLmluZm8gIlJFUExBQ0VELjogJHN0YXJIb3N0TmFtZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldCBnZXRfdXJpX2RhdGFncm91cCAgW2NsYXNzIG1hdGNoIC12YWx1ZSAkc3Rhckhvc3ROYW1lIGVxdWFscyBTaGFyZWQvJHNyY0RhdGFncm91cF0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB7W2NsYXNzIG1hdGNoICRzdGFySG9zdE5hbWUgZXF1YWxzIFNoYXJlZC8kc3JjRGF0YWdyb3VwXSAmJiBbY2xhc3MgbWF0Y2ggJHVyaSBzdGFydHNfd2l0aCBTaGFyZWQvJGdldF91cmlfZGF0YWdyb3VwXX0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZiB7ICRzdGF0aWM6OmV4cGxpY2l0SFRUUFNfZGVidWcgfSB7bG9nIGxvY2FsMC5kZWJ1ZyAiW0hUVFA6Omhvc3RdIE1hdGNoZWQgd2hpdGVMaXN0In0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgaHNsX2h0dHBzd2hpdGVsaXN0SG9zdCAkaG9zdEFjY2VwdGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0IGhzbF9odHRwc3doaXRlbGlzdFVSSSAkdXJpQWxsb3dlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNIVFRQOjpoZWFkZXIgaW5zZXJ0IFgtUmVhbC1JUCBbSVA6OnJlbW90ZV9hZGRyIGNsaWVudHNpZGVdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgNDAzcmVzcG9uc2UgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgSFNMOjpzZW5kICRoc2xodHRwcyAiVW5hYmxlIHRvIG1hcCBob3N0bmFtZSBkYXRhZ3JvdXAgdG8gVVJJIGRhdGEgZ3JvdXAiCiAgICAgICAgICAgICAgICAgICAgICAgIHNldCA0MDNyZXNwb25zZSAxCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzZXQgNDAzcmVzcG9uc2UgMQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICNJZiBubyBzcmNEYXRhZ3JvdXAgbWF0Y2gsIGNoZWNrIHNoYXJlZCBkYXRhZ3JvdXAKCiAgICAgICAgICAgICAgICAjbG9nIGxvY2FsMC5pbmZvICJjaGVja2luZyBpbiBzaGFyZWQgZGF0YWdyb3VwLi4iCiAgICAgICAgICAgICAgICBzZXQgc2hhcmVkVHJhZmZpY0RhdGFncm91cCBbY2xhc3MgbWF0Y2ggLXZhbHVlICRzaGFyZWRUcmFmZmljIGVxdWFscyBTaGFyZWQvc2hhcmVkRGF0YWdyb3VwXQoKICAgICAgICAgICAgICAgIGlmIHskNDAzcmVzcG9uc2UgPT0gMSAmJiBbY2F0Y2ggJHNoYXJlZFRyYWZmaWNEYXRhZ3JvdXBdfSB7CgogICAgICAgICAgICAgICAgICAgICAgICBzZXQgaG9zdE5hbWUgW2dldGZpZWxkIFtzdHJpbmcgdG9sb3dlciBbSFRUUDo6aG9zdF1dICI6IiAxXQogICAgICAgICAgICAgICAgICAgICAgICBzZXQgZ2V0X3VyaV9kYXRhZ3JvdXAgIFtjbGFzcyBtYXRjaCAtdmFsdWUgW3N0cmluZyB0b2xvd2VyICRob3N0TmFtZV0gZXF1YWxzIFNoYXJlZC8kc2hhcmVkVHJhZmZpY0RhdGFncm91cF0KCiAgICAgICAgICAgICAgICAgICAgICAgICNpZiB7ICRzdGF0aWM6OmV4cGxpY2l0SFRUUFNfZGVidWcgfSB7bG9nIGxvY2FsMC5pbmZvICJbSFRUUDo6aG9zdF0gdXJpIGRhdGFncm91cDogJGdldF91cmlfZGF0YWdyb3VwIn0KICAgICAgICAgICAgICAgICAgICAgICAgaWYge1tpbmZvIGV4aXN0cyBnZXRfdXJpX2RhdGFncm91cF19IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHtbY2xhc3MgbWF0Y2ggW3N0cmluZyB0b2xvd2VyICRob3N0TmFtZV0gZXF1YWxzIFNoYXJlZC8kc2hhcmVkVHJhZmZpY0RhdGFncm91cF0gJiYgW2NsYXNzIG1hdGNoICR1cmkgc3RhcnRzX3dpdGggU2hhcmVkLyRnZXRfdXJpX2RhdGFncm91cF19IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjaWYgeyAkc3RhdGljOjpleHBsaWNpdEhUVFBTX2RlYnVnIH0ge2xvZyBsb2NhbDAuZGVidWcgIiRob3N0TmFtZSBNYXRjaGVkIHdoaXRlTGlzdCJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0IGhzbF9odHRwc3doaXRlbGlzdEhvc3QgJGhvc3RBY2NlcHRlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldCBoc2xfaHR0cHN3aGl0ZWxpc3RVUkkgJHVyaUFsbG93ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgNDAzcmVzcG9uc2UgMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNIVFRQOjpoZWFkZXIgaW5zZXJ0IFgtUmVhbC1JUCBbSVA6OnJlbW90ZV9hZGRyIGNsaWVudHNpZGVdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0IGRvdEluZGV4IFtzdHJpbmcgZmlyc3QgIi4iICRob3N0TmFtZSAwXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldCBzdGFySG9zdE5hbWUgW3N0cmluZyByZXBsYWNlICRob3N0TmFtZSAwICRkb3RJbmRleCAiIy4iXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNsb2cgbG9jYWwwLmluZm8gIlJFUExBQ0VELjogJHN0YXJIb3N0TmFtZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgZ2V0X3VyaV9kYXRhZ3JvdXAgIFtjbGFzcyBtYXRjaCAtdmFsdWUgJHN0YXJIb3N0TmFtZSBlcXVhbHMgU2hhcmVkLyRzaGFyZWRUcmFmZmljRGF0YWdyb3VwXQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB7W2NsYXNzIG1hdGNoICRzdGFySG9zdE5hbWUgZXF1YWxzIFNoYXJlZC8kc2hhcmVkVHJhZmZpY0RhdGFncm91cF0gJiYgW2NsYXNzIG1hdGNoICR1cmkgc3RhcnRzX3dpdGggU2hhcmVkLyRnZXRfdXJpX2RhdGFncm91cF19IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmIHsgJHN0YXRpYzo6ZXhwbGljaXRIVFRQU19kZWJ1ZyB9IHtsb2cgbG9jYWwwLmRlYnVnICJbSFRUUDo6aG9zdF0gTWF0Y2hlZCB3aGl0ZUxpc3QifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgaHNsX2h0dHBzd2hpdGVsaXN0SG9zdCAkaG9zdEFjY2VwdGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldCBoc2xfaHR0cHN3aGl0ZWxpc3RVUkkgJHVyaUFsbG93ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0IDQwM3Jlc3BvbnNlIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI0hUVFA6OmhlYWRlciBpbnNlcnQgWC1SZWFsLUlQIFtJUDo6cmVtb3RlX2FkZHIgY2xpZW50c2lkZV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIU0w6OnNlbmQgJGhzbGh0dHBzICJGYWlsZWQgdG8gbWF0Y2ggSG9zdCB3aXRoIFVSSSBpbiBzcmNEYXRhZ3JvdXAgb3Igc2hhcmVkIGRhdGFncm91cCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0IDQwM3Jlc3BvbnNlIDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIU0w6OnNlbmQgJGhzbGh0dHBzICJVbmFibGUgdG8gbWFwIGhvc3RuYW1lIGRhdGFncm91cCB0byBVUkkgc2hhcmVkIGRhdGEgZ3JvdXAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgNDAzcmVzcG9uc2UgMQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfSBlbHNlaWYgeyEoW2NhdGNoICRzaGFyZWRUcmFmZmljRGF0YWdyb3VwXSl9IHsKCiAgICAgICAgICAgICAgICAgICAgICAgSFNMOjpzZW5kICRoc2xodHRwcyAiU2hhcmVkIGRhdGEgZ3JvdXAgcG9saWN5IGRvZXNuJ3QgZXhpc3QiCiAgICAgICAgICAgICAgICAgICAgICAgc2V0IDQwM3Jlc3BvbnNlIDEKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CgogICAgICAgICAgICBIU0w6OnNlbmQgJGhzbGh0dHBzICJTb3VyY2UgSVAgZGF0YSBncm91cCBwb2xpY3kgZG9lc24ndCBleGlzdCIKICAgICAgICAgICAgc2V0IDQwM3Jlc3BvbnNlIDEKICAgICAgICB9CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBIU0w6OnNlbmQgJGhzbGh0dHBzICJVbmFibGUgdG8gc2V0IHZhcmlhYmxlLCBzb3VyY2VDbGllbnQuIFRDUCBvcHRpb24gMjggaGVhZGVyIHdhcyBtaXNzaW5nIG9yIHVuYWJsZSB0byBkZWNvZGUiCiAgICAgICAgc2V0IDQwM3Jlc3BvbnNlIDEKICAgIH0KICAgIGlmIHskNDAzcmVzcG9uc2UgPT0gMX0gewogICAgICAgIHNldCBoc2xfaHR0cHN3aGl0ZWxpc3RVUkkgIndoaXRlbGlzdFVSST1cIk5PVF9FVkFMVUFURURcIiIKICAgICAgICBzZXQgaHNsX2h0dHBzd2hpdGVsaXN0SG9zdCAid2hpdGVsaXN0SG9zdD1cIkRFTklFRFwiIgogICAgICAgIHNldCBoc2xfaHR0cHNodHRwUmVzcG9uc2UgImh0dHBTdGF0dXM9XCI0MDNcIiIKICAgICAgICBIVFRQOjpjbG9zZQogICAgICAgIEhUVFA6OnJlc3BvbmQgNDAzCiAgICAgICAgSFNMOjpzZW5kICRoc2xodHRwcyAiJGhzbF9odHRwc2NsaWVudEFjY2VwdCwkaHNsX2h0dHBzY2xpZW50c3NsaGFuZHNoYWtlLCRoc2xfaHR0cHNodHRwUmVxdWVzdCwkaHNsX2h0dHBzaHR0cFJlc3BvbnNlLCRoc2xfaHR0cHN3aGl0ZWxpc3RIb3N0LCRoc2xfaHR0cHN3aGl0ZWxpc3RVUklcclxuIgogICAgICAgIGlmIHsgJHN0YXRpYzo6ZXhwbGljaXRIVFRQU19kZWJ1ZyB9IHsgbG9nIGxvY2FsMC5kZWJ1ZyAiJGhzbF9odHRwc2NsaWVudEFjY2VwdCwkaHNsX2h0dHBzY2xpZW50c3NsaGFuZHNoYWtlLCRoc2xfaHR0cHNodHRwUmVxdWVzdCwkaHNsX2h0dHBzaHR0cFJlc3BvbnNlLCRoc2xfaHR0cHN3aGl0ZWxpc3RIb3N0LCRoc2xfaHR0cHN3aGl0ZWxpc3RVUkkifQogICAgICB9Cn0Kd2hlbiBIVFRQX1JFU1BPTlNFIHsKICAgIGlmIHskNDAzcmVzcG9uc2UgPT0gMH0gewogICAgICAgIHNldCBoc2xfaHR0cHNodHRwUmVzcG9uc2UgImh0dHBTdGF0dXM9XCJbSFRUUDo6c3RhdHVzXVwiIgogICAgICAgIEhTTDo6c2VuZCAkaHNsaHR0cHMgIiRoc2xfaHR0cHNjbGllbnRBY2NlcHQsJGhzbF9odHRwc2NsaWVudHNzbGhhbmRzaGFrZSwkaHNsX2h0dHBzaHR0cFJlcXVlc3QsJGhzbF9odHRwc2h0dHBSZXNwb25zZSwkaHNsX2h0dHBzd2hpdGVsaXN0SG9zdCwkaHNsX2h0dHBzd2hpdGVsaXN0VVJJXHJcbiIKICAgICAgICBpZiB7ICRzdGF0aWM6OmV4cGxpY2l0SFRUUFNfZGVidWcgfSB7IGxvZyBsb2NhbDAuZGVidWcgIiRoc2xfaHR0cHNjbGllbnRBY2NlcHQsJGhzbF9odHRwc2NsaWVudHNzbGhhbmRzaGFrZSwkaHNsX2h0dHBzaHR0cFJlcXVlc3QsJGhzbF9odHRwc2h0dHBSZXNwb25zZSwkaHNsX2h0dHBzd2hpdGVsaXN0SG9zdCwkaHNsX2h0dHBzd2hpdGVsaXN0VVJJIn0KICAgIH0KICAgIGVsc2UgewogICAgICAgIEhUVFA6OnJlc3BvbmQgNDAzCiAgICAgICAgc2V0IGhzbF9odHRwc2h0dHBSZXNwb25zZSAiaHR0cFN0YXR1cz1cIjQwM1wiIgogICAgICAgIEhTTDo6c2VuZCAkaHNsaHR0cHMgIiRoc2xfaHR0cHNjbGllbnRBY2NlcHQsJGhzbF9odHRwc2NsaWVudHNzbGhhbmRzaGFrZSwkaHNsX2h0dHBzaHR0cFJlcXVlc3QsJGhzbF9odHRwc2h0dHBSZXNwb25zZSwkaHNsX2h0dHBzd2hpdGVsaXN0SG9zdCwkaHNsX2h0dHBzd2hpdGVsaXN0VVJJXHJcbiIKICAgICAgICBpZiB7ICRzdGF0aWM6OmV4cGxpY2l0SFRUUFNfZGVidWcgfSB7IGxvZyBsb2NhbDAuZGVidWcgIiRoc2xfaHR0cHNjbGllbnRBY2NlcHQsJGhzbF9odHRwc2NsaWVudHNzbGhhbmRzaGFrZSwkaHNsX2h0dHBzaHR0cFJlcXVlc3QsJGhzbF9odHRwc2h0dHBSZXNwb25zZSwkaHNsX2h0dHBzd2hpdGVsaXN0SG9zdCwkaHNsX2h0dHBzd2hpdGVsaXN0VVJJIn0KICAgIH0KfQ=="
        }
      },
      "telemetry_local_rule": {
        "remark": "Only required when TS is a local listener",
        "class": "iRule",
        "iRule": "when CLIENT_ACCEPTED {\n  node 127.0.0.1 6514\n}"
      },
      "telemetry_local": {
        "remark": "Only required when TS is a local listener",
        "class": "Service_TCP",
        "virtualAddresses": [
          "255.255.255.254"
        ],
        "virtualPort": 6514,
        "iRules": [
          "telemetry_local_rule"
        ]
      },
      "telemetry_pool": {
        "class": "Pool",
        "members": [
          {
            "enable": true,
            "serverAddresses": [
              "255.255.255.254"
            ],
            "servicePort": 6514
          }
        ],
        "monitors": [
          {
            "bigip": "/Common/tcp"
          }
        ]
      },
      "telemetry_pool2": {
        "class": "Pool",
        "members": [
          {
            "enable": true,
            "serverAddresses": [
              "255.255.255.254"
            ],
            "servicePort": 6514
          }
        ],
        "monitors": [
          {
            "bigip": "/Common/tcp"
          }
        ]
      },
      "telemetry_hsl": {
        "class": "Log_Destination",
        "type": "remote-high-speed-log",
        "protocol": "tcp",
        "pool": {
          "use": "telemetry_pool"
        }
      },
      "ssl_bypass_fqdn_pool": {
        "class": "Pool",
        "monitors": [
          "tcp"
        ],
        "members": [
          {
            "servicePort": 443,
            "addressDiscovery": "fqdn",
            "autoPopulate": true,
            "hostname": "testapi.girogate.de",
            "shareNodes": true
          }
        ]
      }
    }
  },
  "ExplicitProxy": {
    "class": "Tenant",
    "explicitProxy": {
      "class": "Application",
      "template": "generic",
      "explicitProxyVS": {
        "class": "Service_HTTP",
        "layer4": "tcp",
        "virtualAddresses": [
          {
            "use": "/Common/Shared/serviceAddress"
          }
        ],
        "profileTCP": {
          "use": "/Common/Shared/tcp_profile_opt28"
        },
        "persistenceMethods": [],
        "virtualPort": 11443,
        "profileHTTP": {
          "use": "explicitProxyhttp_profile"
        },
        "snat": "auto",
        "allowVlans": [
          {
            "bigip": "/Common/internal"
          }
        ],
        "iRules": [
          "/Common/Shared/explicitProxy_irule"
        ]
      },
      "explicitProxyhttp_profile": {
        "class": "HTTP_Profile",
        "proxyType": "explicit",
        "requestChunking": "rechunk",
        "responseChunking": "rechunk",
        "resolver": {
          "bigip": "/Common/explicitProxy_resolver"
        },
        "tunnelName": "/Common/explicitProxy_tunnel"
      },
      "explicitProxyL4_profile": {
        "class": "L4_Profile",
        "looseClose": true,
        "looseInitialization": true
      },
      "explicitProxy_HTTPS_VS": {
        "class": "Service_HTTPS",
        "layer4": "tcp",
        "redirect80": false,
        "virtualAddresses": [
          {
            "use": "/Common/Shared/serviceAddress"
          }
        ],
        "profileTCP": {
          "use": "/Common/Shared/tcp_profile_opt28"
        },
        "persistenceMethods": [],
        "translateServerPort": false,
        "translateServerAddress": false,
        "virtualPort": 0,
        "profileHTTP": {
          "bigip": "/Common/http"
        },
        "snat": "auto",
        "allowVlans": [
          {
            "bigip": "/Common/explicitProxy_tunnel"
          }
        ],
        "clientTLS": "clientTLS_SSL_FORWARD_PROXY",
        "serverTLS": [
          {
            "bigip": "/Common/serverTLS_SSL_FORWARD_PROXY"
          }
        ],
        "iRules": [
          "/Common/Shared/explicitHttps_irule"
        ]
      },
      "serverTLS_SSL_FORWARD_PROXY": {
        "class": "TLS_Server",
        "remark": "something unique for each update to the datagroup",
        "certificates": [
          {
            "proxyCertificate": "SSL_FORWARD_PROXY",
            "certificate": "defaultCert"
          }
        ],
        "ciphers": "ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256",
        "forwardProxyEnabled": true,
        "forwardProxyBypassEnabled": true,
        "forwardProxyBypassAllowlist": {
          "use": "/Common/Shared/explicitPxy_bypass"
        }
      },
      "clientTLS_SSL_FORWARD_PROXY": {
        "class": "TLS_Client",
        "forwardProxyEnabled": true,
        "forwardProxyBypassEnabled": true,
        "trustCA": "generic"
      },
      "SSL_FORWARD_PROXY": {
        "class": "Certificate",
        "certificate": {
          "bigip": "/Common/SSL_FORWARD_PROXY.crt"
        },
        "privateKey": {
          "bigip": "/Common/SSL_FORWARD_PROXY.key"
        },
        "chainCA": {
          "bigip": "/Common/SSL_FORWARD_PROXY_CHAIN.crt"
        }
      },
      "defaultCert": {
        "class": "Certificate",
        "certificate": {
          "bigip": "/Common/default.crt"
        },
        "privateKey": {
          "bigip": "/Common/default.key"
        }
      }
    }
  },
  "ExplicitProxyHttp2": {
    "class": "Tenant",
    "ExplicitProxyHttp2": {
      "class": "Application",
      "template": "generic",
      "ExplicitProxyHttp2VS": {
        "class": "Service_HTTP",
        "layer4": "tcp",
        "virtualAddresses": [
          {
            "use": "/Common/Shared/serviceAddress"
          }
        ],
        "profileTCP": {
          "use": "/Common/Shared/tcp_profile_opt28"
        },
        "persistenceMethods": [],
        "virtualPort": 10443,
        "profileHTTP": {
          "use": "ExplicitProxyHttp2http_profile"
        },
        "snat": "auto",
        "allowVlans": [
          {
            "bigip": "/Common/internal"
          }
        ],
        "iRules": [
          "/Common/Shared/explicitProxy_irule"
        ]
      },
      "ExplicitProxyHttp2http_profile": {
        "class": "HTTP_Profile",
        "proxyType": "explicit",
        "requestChunking": "rechunk",
        "responseChunking": "rechunk",
        "resolver": {
          "bigip": "/Common/explicitProxy_resolver"
        },
        "tunnelName": "/Common/ExplicitProxyHttp2_tunnel"
      },
      "ExplicitProxyHttp2L4_profile": {
        "class": "L4_Profile",
        "looseClose": true,
        "looseInitialization": true
      },
      "ExplicitProxyHttp2_HTTPS_VS": {
        "class": "Service_HTTPS",
        "layer4": "tcp",
        "redirect80": false,
        "virtualAddresses": [
          {
            "use": "/Common/Shared/serviceAddress"
          }
        ],
        "profileTCP": {
          "use": "/Common/Shared/tcp_profile_opt28"
        },
        "persistenceMethods": [],
        "translateServerPort": false,
        "translateServerAddress": false,
        "virtualPort": 0,
        "profileHTTP": {
          "bigip": "/Common/http"
        },
        "snat": "auto",
        "allowVlans": [
          {
            "bigip": "/Common/ExplicitProxyHttp2_tunnel"
          }
        ],
        "clientTLS": [
          {
            "bigip": "/Common/clientTLS_SSL_FORWARD_PROXY_http2"
          }
        ],
        "serverTLS": [
          {
            "bigip": "/Common/serverTLS_SSL_FORWARD_PROXY_http2"
          }
        ],
        "iRules": [
          {"use" : "explicitHttpsHttp2_irule"},
          "/Common/Shared/explicitHttps_irule"
        ]
      },
      "SSL_FORWARD_PROXY": {
        "class": "Certificate",
        "certificate": {
          "bigip": "/Common/SSL_FORWARD_PROXY.crt"
        },
        "privateKey": {
          "bigip": "/Common/SSL_FORWARD_PROXY.key"
        },
        "chainCA": {
          "bigip": "/Common/SSL_FORWARD_PROXY_CHAIN.crt"
        }
      },
      "defaultCert": {
        "class": "Certificate",
        "certificate": {
          "bigip": "/Common/default.crt"
        },
        "privateKey": {
          "bigip": "/Common/default.key"
        }
      },
      "explicitHttpsHttp2_irule": {
        "class": "iRule",
        "iRule": {
          "base64": "d2hlbiBTRVJWRVJTU0xfU0VSVkVSSEVMTE8gewogICAgaWYgeyAhKFtTU0w6OmFscG5dIHN0YXJ0c193aXRoICJodHRwIil9IHsKICAgICAgICAgSFRUUDo6ZGlzYWJsZQogICAgfQp9"}
      }
    }
  },
  "ExplicitProxyHttp3": {
    "class": "Tenant",
    "ExplicitProxyHttp3": {
      "class": "Application",
      "template": "generic",
      "ExplicitProxyHttp3VS": {
        "class": "Service_HTTP",
        "layer4": "tcp",
        "virtualAddresses": [
          {
            "use": "/Common/Shared/serviceAddress"
          }
        ],
        "profileTCP": {
          "use": "/Common/Shared/tcp_profile_opt28"
        },
        "persistenceMethods": [],
        "virtualPort": 11443,
        "profileHTTP": {
          "use": "ExplicitProxyHttp3http_profile"
        },
        "snat": "auto",
        "allowVlans": [
          {
            "bigip": "/Common/internal"
          }
        ],
        "iRules": [
          "/Common/Shared/explicitProxy_irule"
        ]
      },
      "ExplicitProxyHttp3http_profile": {
        "class": "HTTP_Profile",
        "proxyType": "explicit",
        "requestChunking": "rechunk",
        "responseChunking": "rechunk",
        "resolver": {
          "bigip": "/Common/explicitProxy_resolver"
        },
        "tunnelName": "/Common/explicitProxy_tunnel"
      },
      "ExplicitProxyHttp3L4_profile": {
        "class": "L4_Profile",
        "looseClose": true,
        "looseInitialization": true
      },
      "ExplicitProxyHttp3_HTTPS_VS": {
        "class": "Service_HTTPS",
        "layer4": "tcp",
        "redirect80": false,
        "virtualAddresses": [
          {
            "use": "/Common/Shared/serviceAddress"
          }
        ],
        "profileTCP": {
          "use": "/Common/Shared/tcp_profile_opt28"
        },
        "persistenceMethods": [],
        "translateServerPort": false,
        "translateServerAddress": false,
        "virtualPort": 0,
        "profileHTTP": {
          "bigip": "/Common/http"
        },
        "snat": "auto",
        "allowVlans": [
          {
            "bigip": "/Common/explicitProxy_tunnel"
          }
        ],
        "clientTLS": "clientTLS_SSL_FORWARD_PROXY",
        "serverTLS": [
          {
            "bigip": "/Common/serverTLS_SSL_FORWARD_PROXY"
          }
        ],
        "iRules": [
          "/Common/Shared/explicitProxy_irule"
        ]
      },
      "serverTLS_SSL_FORWARD_PROXY": {
        "class": "TLS_Server",
        "remark": "something unique for each update to the datagroup",
        "certificates": [
          {
            "proxyCertificate": "SSL_FORWARD_PROXY",
            "certificate": "defaultCert"
          }
        ],
        "ciphers": "ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256",
        "forwardProxyEnabled": true,
        "forwardProxyBypassEnabled": true,
        "forwardProxyBypassAllowlist": {
          "use": "/Common/Shared/explicitPxy_bypass"
        }
      },
      "clientTLS_SSL_FORWARD_PROXY": {
        "class": "TLS_Client",
        "forwardProxyEnabled": true,
        "forwardProxyBypassEnabled": true,
        "trustCA": "generic"
      },
      "SSL_FORWARD_PROXY": {
        "class": "Certificate",
        "certificate": {
          "bigip": "/Common/SSL_FORWARD_PROXY.crt"
        },
        "privateKey": {
          "bigip": "/Common/SSL_FORWARD_PROXY.key"
        },
        "chainCA": {
          "bigip": "/Common/SSL_FORWARD_PROXY_CHAIN.crt"
        }
      },
      "defaultCert": {
        "class": "Certificate",
        "certificate": {
          "bigip": "/Common/default.crt"
        },
        "privateKey": {
          "bigip": "/Common/default.key"
        }
      }
    }
  },
  "class": "ADC",
  "schemaVersion": "3.26.0",
  "label": "autoscale_ltm_withExplicitProxy",
  "id": "autoscale_ltm",
  "remark": "autoscale_ltm",
  "updateMode": "selective",
  "controls": {
    "archiveTimestamp": "2020-01-29T01:27:54.691Z"
  }
}